{"version":3,"sources":["img/verify.svg","components/Directs/newmessage.svg","img/direct.svg","img/account.svg","components/Loading/index.js","components/Directs/Direct/index.js","components/InputChat/index.js","components/services/sendMessage.js","components/Directs/Chat/index.js","components/services/getChatUser.js","components/Context/AppContext.js","components/Directs/New/User/index.js","components/services/getUserMin.js","components/Directs/New/index.js","components/services/getUser.js","components/Directs/index.js","components/services/setDirectsUnread.js","components/services/getDirects.js","components/services/addDirectChat.js","App.js","index.js"],"names":["module","exports","Loading","className","Direct","props","onClick","user","verify","picture","read","src","alt","message","length","substring","time","ReactTimeAgo","date","Date","timeStyle","locale","InputChat","useState","comment","setComment","input","setInput","useEffect","focus","handleSend","send","ref","i","value","onChange","e","target","onKeyDown","key","placeholder","disabled","sendMessage","user_direct","directs","setDirectsContext","arr_directs","u","d","messages","push","own","Chat","setMessages","direct","arr_msg","user_follow","getChatUser","addChat","handleSendMessage","a","setDirects","setNewChat","back","to","map","m","Context","React","createContext","AppContextProvider","children","users_json","users","setUsers","notif_json","notifs","setNotifs","posts_json","posts","setPosts","directs_json","Provider","User","select","account","id","getUserMin","New","useContext","userContext","follows","setFollows","setSelect","usersContext","getUser","setViewDirect","Directs","data","setData","viewDirect","newChat","handleSetViewDirect","setDirectsRead","directs_","getDirects","newMessage","console","log","addDirectChat","JavascriptTimeAgo","es","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f2ae8f9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/verify.c884f427.svg\";","module.exports = __webpack_public_path__ + \"static/media/newmessage.2927f8de.svg\";","module.exports = __webpack_public_path__ + \"static/media/direct.c26fe294.svg\";","module.exports = __webpack_public_path__ + \"static/media/account.71672f0b.svg\";","import React from 'react'\r\nimport './css.css'\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div className=\"content-loading\">\r\n            <div className=\"loadingio-spinner-spinner-0weqdade60oe\"><div className=\"ldio-wghgll2tit8\">\r\n            <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\r\n            </div></div>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\n\r\nimport \"./css.css\";\r\n\r\nexport default function Direct(props) {\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        props.onClick({\r\n            user: props.user,\r\n            verify: props.verify,\r\n            picture: props.picture\r\n        });\r\n      }}\r\n      className={props.read ? \"content-direct\" : \"content-direct unread\"}\r\n    >\r\n      <div className=\"content-img-username\">\r\n          <img\r\n            className=\"img-account\"\r\n            src={props.picture}\r\n            alt=\"profile_picture\"\r\n          />\r\n        \r\n      </div>\r\n      <div className=\"direct-message-time\">\r\n        <div className=\"direct-user\">\r\n          <p>{props.user}</p>\r\n        </div>\r\n        <p className=\"direct-message\">\r\n          {props.message.length > 30\r\n          ? props.message.substring(0, 30) + \"...\"\r\n          : props.message} •\r\n          <span className=\"time-notif\">\r\n            {\" \"}\r\n            {props.time && (\r\n              <ReactTimeAgo\r\n                date={new Date(props.time)}\r\n                timeStyle=\"twitter\"\r\n                locale=\"es\"\r\n              />\r\n            )}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <div className={props.read ? \"invisible\" : \"direct-unread\"}></div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./css.css\";\r\n\r\nexport default function InputChat(props) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const handleChangeComment = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  const [input, setInput] = useState(null);\r\n\r\n  useEffect(() => {\r\n      if(props.focus)\r\n        input && input.focus();\r\n  })\r\n\r\n  const handleSend = () => {\r\n    if(comment.length > 0){\r\n      props.send(comment);\r\n      setComment(\"\");\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter')\r\n      handleSend();\r\n  }\r\n\r\n  return (\r\n    <div className=\"comment-post\">\r\n      <div className=\"center-post content-comment\">\r\n        <input\r\n          ref={(i) => {setInput(i)}}\r\n          className=\"comment\"\r\n          value={comment}\r\n          onChange={handleChangeComment}\r\n          onKeyDown={handleKeyDown}\r\n          placeholder={props.message ? \"Envía un mensaje...\" : \"Añade un comentario...\"}\r\n        ></input>\r\n        <button\r\n          onClick={handleSend}\r\n          disabled={comment.length <= 0}\r\n          className={\r\n            comment.length > 0 ? \"action-comment\" : \"action-comment disabled\"\r\n          }\r\n        >\r\n          {props.message ? \"Enviar\" : \"Publicar\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function sendMessage(user, user_direct, message, directs, setDirectsContext){\r\n    const arr_directs = directs;\r\n    for(var u of arr_directs){\r\n        if(u.user === user){\r\n            for(var d of u.directs){\r\n                if(d.user === user_direct){\r\n                    d.messages.push({message, time:new Date(), own:true});\r\n                    d.read = true;\r\n                    setDirectsContext(arr_directs);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport direct from \"img/direct.svg\";\r\nimport \"./css.css\";\r\nimport Comment from \"components/InputChat\";\r\nimport verify from \"img/verify.svg\";\r\nimport getChatUser from 'components/services/getChatUser';\r\nimport sendMessage from 'components/services/sendMessage';\r\nimport Loading from \"components/Loading\";\r\n\r\n\r\nexport default function Chat(props) {\r\n  const [messages, setMessages] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if(props.direct !== null){\r\n      const arr_msg = getChatUser(\"default\", props.direct.user, props.directs);\r\n      if(arr_msg === 'none'){\r\n        props.addChat(\"default\", props.direct.user);\r\n        setMessages([]);\r\n      }\r\n      else\r\n        setMessages(arr_msg);\r\n    }\r\n  }, [messages, props])\r\n\r\n  const handleSendMessage = async message => {\r\n    const chat = sendMessage(\"default\", props.direct.user, message, props.directs, props.setDirects);\r\n    if(chat)\r\n      setMessages(null);\r\n}\r\n\r\n\r\n  if (props.direct === null) {\r\n    return (\r\n      <div className=\"content-chat pc\">\r\n        <div className=\"content-default\">\r\n          <div className=\"content-chat-default\">\r\n            <div className=\"content-chat-logo-default\">\r\n              <img className=\"chat-logo-default\" src={direct} alt=\"Direct\" />\r\n            </div>\r\n            <p className=\"chat-title-default\">Tus mensajes</p>\r\n            <p className=\"chat-desc-default\">\r\n              Envía fotos y mensajes privados a un amigo o grupo.\r\n            </p>\r\n            <button onClick={() => {props.setNewChat(true)}} className=\"button follow\">Enviar mensaje</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"content-chat\">\r\n      <header className=\"content-header-chat\">\r\n        <div\r\n          className=\"chat-back mobile\"\r\n          onClick={() => {\r\n            setMessages(null);\r\n            props.back(null);\r\n          }}\r\n        ></div>\r\n        <div className=\"content-header-chat\" to={\"/\" + props.direct.user}>\r\n          <img\r\n            className=\"chat-user-img\"\r\n            src={props.direct.picture}\r\n            alt=\"user-img\"\r\n          />\r\n          <p className=\"chat-user-name\">{props.direct.user}</p>\r\n          {props.direct.verify && (\r\n              <img className=\"verify\" src={verify} alt=\"Verificado\" />\r\n            )}\r\n        </div>\r\n      </header>\r\n      <div className=\"chat-content-messages\">\r\n        {messages && messages.map((m,i) => (\r\n          m.own \r\n          ?<div key={i} className=\"content-chat-message own\">\r\n            <div className=\"chat-message own\">{m.message}</div>\r\n          </div>\r\n          :<div key={i} className=\"content-chat-message\">\r\n          <div to={\"/\" + props.direct.user}>\r\n            <img\r\n              className=\"chat-user-img\"\r\n              src={props.direct.picture}\r\n              alt=\"user-img\"\r\n            />\r\n          </div>\r\n          <div className=\"chat-message\">{m.message}</div>\r\n        </div>\r\n        ))}\r\n      </div>\r\n      {\r\n        messages === null && \r\n        <Loading />\r\n      }\r\n      <div className=\"chat-content-comment\">\r\n        <Comment send={handleSendMessage} message />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function getChatUser(user, user_follow, directs){\r\n    for(var u of directs){\r\n        if(u.user === user){\r\n            for(var d of u.directs){\r\n                if(d.user === user_follow){\r\n                    return d.messages;\r\n                }\r\n            }\r\n            return 'none';\r\n        }\r\n    }\r\n    return null;\r\n}","import React, {useState} from 'react';\r\nimport users_json from 'DB/users.json';\r\nimport notif_json from 'DB/notif.json';\r\nimport posts_json from 'DB/posts.json';\r\nimport directs_json from 'DB/directs.json';\r\n\r\nconst Context = React.createContext ({});\r\n\r\nexport function AppContextProvider({children}){\r\n    const [users, setUsers] = useState(users_json);\r\n    const [notifs, setNotifs] = useState(notif_json);\r\n    const [posts, setPosts] = useState(posts_json);\r\n    const [directs, setDirects] = useState(directs_json);\r\n    return (\r\n    <Context.Provider value={{users, setUsers, notifs, setNotifs, posts, setPosts, directs, setDirects}}>\r\n        {children}\r\n    </Context.Provider>\r\n    );\r\n}\r\n\r\nexport default Context;","import React from \"react\";\r\nimport verify from \"img/verify.svg\";\r\nimport account from \"img/account.svg\";\r\n\r\nimport \"./css.css\";\r\n\r\nexport default function User(props) {\r\n\r\n  var select = false;\r\n  if(props.select !== null){\r\n    if(props.select.user === props.user)\r\n      select = true;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        props.onClick({user: props.user, picture:props.picture, verify:props.verify});\r\n      }}\r\n      className=\"content-new-direct-user\"\r\n    >\r\n      <div className=\"content-img-username\">\r\n        {props.picture ? (\r\n          <img\r\n            className=\"img-account\"\r\n            src={props.picture}\r\n            alt=\"profile_picture\"\r\n          />\r\n        ) : (\r\n          <img className=\"default-img\" src={account} alt=\"profile_picture\" />\r\n        )}\r\n      </div>\r\n      <div className=\"direct-user\">\r\n          <p>{props.user}</p>\r\n          {props.verify && \" \" && (\r\n            <img className=\"verify-directs\" src={verify} alt=\"Verificado\" />\r\n          )}{\" \"}\r\n        </div>\r\n      <div className={select ? \"new-direct-select true\" : \"new-direct-select\"}>\r\n          {select &&\r\n            <div id=\"tick-mark\"></div>\r\n          }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import users from 'DB/users-min.json';\r\n\r\nexport default function getUserMin(user){\r\n    for(var u of users)\r\n        if(u.user === user)\r\n            return u;\r\n    return null;\r\n}","import React, {useState, useEffect, useContext} from 'react';\r\n\r\nimport './css.css';\r\nimport getUser from 'components/services/getUser';\r\nimport userContext from 'components/Context/AppContext';\r\nimport User from './User';\r\nimport getUserMin from 'components/services/getUserMin';\r\n\r\nexport default function New(props) {\r\n\r\n    const {users} = useContext(userContext);\r\n\r\n    const [follows, setFollows] = useState(null);\r\n\r\n    const [select, setSelect] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if(follows === null){\r\n            const user = getUser(props.user, users);\r\n            if(user !== null){\r\n                setFollows(user.follows);\r\n            }\r\n        }\r\n    }, [follows, props,users])\r\n\r\n    const handleSelect = () => {\r\n        if(select !== null){\r\n            props.setViewDirect(select);\r\n            props.setNewChat(false);\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className=\"content-new-chat\">\r\n        <header className=\"content-directs-header\">\r\n          <div onClick={() => props.setNewChat(false)} className=\"chat-back\"></div>\r\n          <h5>Nuevo mensaje</h5>\r\n          <button onClick={handleSelect} className=\"action-comment\">Siguiente</button>\r\n        </header>\r\n        {follows && follows.map((u,i) => {\r\n            const user = getUserMin(u);\r\n            return(\r\n            <User \r\n                key={i}\r\n                user={user.user}\r\n                picture={user.picture}\r\n                verify={user.verify}\r\n                onClick={setSelect}\r\n                select={select}\r\n            />)\r\n        })}\r\n        </div>\r\n    )\r\n}\r\n","/* import users from 'components/users.json'; */\r\n\r\nexport default function getUser(user, usersContext){\r\n    for(var u of usersContext)\r\n        if(u.user === user){\r\n            return u;\r\n        }\r\n    return null;\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport getDirects from \"components/services/getDirects\";\r\nimport Loading from \"components/Loading\";\r\nimport Direct from \"./Direct\";\r\nimport newMessage from \"./newmessage.svg\";\r\nimport Chat from \"./Chat\";\r\nimport New from \"./New\";\r\n\r\nimport \"./css.css\";\r\n\r\nimport getUserMin from \"components/services/getUserMin\";\r\n\r\nimport Context from \"components/Context/AppContext\";\r\nimport setDirectsRead from \"components/services/setDirectsUnread\";\r\nimport addDirectChat from \"components/services/addDirectChat\";\r\n\r\nexport default function Directs() {\r\n  const [data, setData] = useState(\"loading\");\r\n\r\n  const [viewDirect, setViewDirect] = useState(null);\r\n\r\n  const [newChat, setNewChat] = useState(false);\r\n\r\n  const { directs, setDirects } = useContext(Context);\r\n\r\n  const handleSetViewDirect = (user) => {\r\n    if (user === null) setViewDirect(null);\r\n    else {\r\n      setViewDirect(user);\r\n      setDirectsRead(\"default\", user.user, directs, setDirects);\r\n    }\r\n  };\r\n\r\n  const handleAddChat = (user, user_follow) => {\r\n      addDirectChat(user, user_follow, directs, setDirects);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data === \"loading\") {\r\n      const directs_ = getDirects(\"default\", directs);\r\n      if(directs_) setData(directs_.directs);\r\n      else setData([]);\r\n    }\r\n  }, [data, directs]);\r\n\r\n  if (data === \"loading\") return <Loading />;\r\n\r\n  if (newChat)\r\n    return (\r\n      <div className=\"content-directs\">\r\n        <New user=\"default\" setNewChat={setNewChat} setViewDirect={handleSetViewDirect} />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"content-directs\">\r\n      <div\r\n        className={\r\n          viewDirect === null\r\n            ? \"content-list-directs\"\r\n            : \"content-list-directs viewdirect\"\r\n        }\r\n      >\r\n        <header className=\"content-directs-header\">\r\n          <h5>Direct</h5>\r\n          <img\r\n            onClick={() => {\r\n              setNewChat(true);\r\n            }}\r\n            className=\"icon\"\r\n            src={newMessage}\r\n            alt=\"nuevo mensaje\"\r\n          />\r\n        </header>\r\n        <div className=\"content-directs-messages\">\r\n          {data &&\r\n            data.map((d, i) => {\r\n              const user = getUserMin(d.user);\r\n              if (user !== null)\r\n                return (\r\n                  <Direct\r\n                    key={i}\r\n                    user={user.user}\r\n                    picture={user.picture}\r\n                    verify={user.verify}\r\n                    message={d.messages[d.messages.length - 1].message}\r\n                    time={d.messages[d.messages.length - 1].time}\r\n                    read={d.read}\r\n                    onClick={handleSetViewDirect}\r\n                  />\r\n                );\r\n              return null;\r\n            })}\r\n        </div>\r\n      </div>\r\n      <Chat\r\n        direct={viewDirect}\r\n        back={handleSetViewDirect}\r\n        directs={directs}\r\n        setDirects={setDirects}\r\n        setNewChat={setNewChat}\r\n        addChat={handleAddChat}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/* import directs from 'components/directs.json' */\r\n\r\nexport default function setDirectsRead(user, user_direct, directs, setDirectsContext){\r\n    const arr_directs = directs;\r\n    for(var u of arr_directs){\r\n        if(u.user === user){\r\n            for(var d of u.directs){\r\n                if(d.user === user_direct){\r\n                    d.read = true;\r\n                    setDirectsContext(arr_directs);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}","/* import directs from 'components/directs.json' */\r\n\r\nexport default function getDirects(user, directs){\r\n    if(directs){\r\n        for(var u of directs){\r\n            if(u.user === user)\r\n                return u;\r\n        }\r\n    }\r\n    return null;\r\n}","export default function addDirectChat(user, user_direct, directs, setDirectsContext){\r\n    const arr_directs = directs;\r\n    for(var u of arr_directs){\r\n        if(u.user === user){\r\n            u.directs.push({\r\n                \"user\":user_direct,\r\n                \"read\":true,\r\n                \"messages\":[]\r\n            })\r\n            setDirectsContext(arr_directs);\r\n            console.log(arr_directs);\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}","import React from 'react';\nimport Directs from './components/Directs'\nimport { AppContextProvider } from \"components/Context/AppContext\";\nimport JavascriptTimeAgo from \"javascript-time-ago\";\nimport es from \"javascript-time-ago/locale/es\";\n\nimport './App.css';\n\n\nJavascriptTimeAgo.locale(es);\n\nfunction App() {\n  return (\n    <div className=\"content-app\">\n      <div className=\"header-app\"></div>\n      <div className=\"app\">\n        <AppContextProvider>\n            <Directs />\n          </AppContextProvider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}